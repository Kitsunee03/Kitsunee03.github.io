---
import { Icon } from "astro-icon/components";

type Props = {
  title: string;
  institution: string;
  period: string;
  description: string;
  icon: string;
  isLast?: boolean;
};

const { title, institution, period, description, icon, isLast = false } = Astro.props;
---

<div class="flex gap-4">
  <!-- Timeline line -->
  <div class="flex flex-col items-center">
    <div class="w-10 h-10 rounded-full bg-[var(--bg-card)] border border-[var(--border-color)] grid place-items-center shrink-0">
      <Icon name={icon} class="w-5 h-5 text-[var(--text-secondary)]" />
    </div>
    {!isLast && <div class="w-px flex-1 bg-[var(--border-color)] mt-2" />}
  </div>

  <!-- Content -->
  <div class={`pb-8 ${isLast ? "" : ""}`}>
    <span class="text-xs text-[var(--text-muted)] tracking-wider">{period}</span>
    <h3 class="text-lg mt-1">{title}</h3>
    <p class="text-[var(--text-secondary)] text-sm mt-0.5">{institution}</p>
    <p class="text-[var(--text-muted)] text-sm mt-2 leading-relaxed">{description}</p>
  </div>
</div>
